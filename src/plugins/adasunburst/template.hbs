<div id="{{id}}" style="width: {{width}}px;height: {{height}}px;margin-left:-50px;max-width:1000px;"></div>
<script type="text/javascript">
  var chart_{{id}} = echarts.init(document.getElementById('{{id}}'));  

  var option = {
    title: {
      text: '{{title}}',
      subtext: '{{subtext}}',
      textStyle: {
            fontSize: 14,
            align: 'center'
      },
      subtextStyle: {
            align: 'center'
      }
    },
    series: {
        {{#each treemap}} 
                type: 'sunburst',
                data: {{{this.jsondata}}},
                radius: [0, '95%'],
                sort: null,
                levels: [{}, {
                    r0: '15%',
                    r: '35%',
                    itemStyle: {
                        borderWidth: 2
                    },
                    label: {
                        rotate: 'tangential'
                    }
                }, {
                    r0: '35%',
                    r: '70%',
                    label: {
                        align: 'right'
                    }
                }, {
                    r0: '70%',
                    r: '72%',
                    label: {
                        position: 'outside',
                        padding: 3,
                        silent: false
                    },
                    itemStyle: {
                        borderWidth: 3
                    }
                }]
        {{/each}}    
        }
  };

  chart_{{id}}.setOption(option);
  chart_{{id}}.on('click', (ele) => {
    if (ele && ele.componentSubType == 'sunburst' && 
      ele.componentType == 'series' && ele.seriesType == 'sunburst') {
      
      if (ele.data) {
        if (typeof ele.data.url === 'string' && 
          ele.data.url != '') {

          window.open(ele.data.url, '_blank');
        }
      }
    }
  });
</script>